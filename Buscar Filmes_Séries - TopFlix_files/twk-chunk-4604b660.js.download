(window.tawkJsonp=window.tawkJsonp||[]).push([["chunk-4604b660"],{"24fb":function(e,t,a){"use strict";function s(e,t){var a=e[1]||"",s=e[3];if(!s)return a;if(t&&"function"==typeof btoa){var i=function(e){var t=btoa(unescape(encodeURIComponent(JSON.stringify(e)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(t);return"/*# ".concat(a," */")}(s),n=s.sources.map((function(e){return"/*# sourceURL=".concat(s.sourceRoot||"").concat(e," */")}));return[a].concat(n).concat([i]).join("\n")}return[a].join("\n")}e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var a=s(t,e);return t[2]?"@media ".concat(t[2]," {").concat(a,"}"):a})).join("")},t.i=function(e,a,s){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(s)for(var n=0;n<this.length;n++){var r=this[n][0];null!=r&&(i[r]=!0)}for(var o=0;o<e.length;o++){var l=[].concat(e[o]);s&&i[l[0]]||(a&&(l[2]?l[2]="".concat(a," and ").concat(l[2]):l[2]=a),t.push(l))}},t}},3519:function(e,t,a){"use strict";var s=a("f25b").a,i=a("2877"),n=Object(i.a)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isLoading,expression:"!isLoading"}],ref:"tawk-chat-message-container",staticClass:"tawk-chat-message-container tawk-margin-small-top"},[a("transition-group",{attrs:{name:"list"}},e._l(e.messageBlocks,(function(t){return a("div",{key:t.blockId,ref:t.blockId,refInFor:!0,staticClass:"tawk-margin-small-bottom tawk-flex tawk-flex-bottom tawk-message-block",attrs:{id:"blockId-"+t.blockId}},["call"===t.messageType?[t.callData&&!t.callData.hasError?a("tawk-alert",{staticStyle:{width:"100%"},attrs:{status:e.callStatus(t.callData),title:e.callTitle(t.callData),description:e.callDescription(t.callData),icon:e.callIcon(t.callData)}}):a("tawk-alert",{staticStyle:{width:"100%"},attrs:{status:"danger",title:e.$i18n("chat","error_title"),description:e.$i18n("chat","call_error_load"),icon:"call"}})]:["c"===t.messageType&&"v"!==t.senderType?a("tawk-avatar",{staticClass:"tawk-message-profile tawk-flex-none",attrs:{size:"small",src:t.profileImage,alt:""+e.$i18n("chat","agent_profile_image")}}):e._e(),a("div",{staticClass:"tawk-message-group tawk-flex-1",class:["v"==t.senderType?"tawk-margin-auto-left":""]},e._l(t.messages,(function(t){return a("div",{key:t.messageId,ref:t.messageId,refInFor:!0,staticClass:"tawk-message-bubble",attrs:{id:"messageId-"+t.messageId}},[t.showBar&&e.barMessageRerence?a("div",{staticStyle:{position:"relative"}},[a("div",[a("span",{staticStyle:{position:"absolute",right:"0",background:"#fff",transform:"translate(0, -50%)",padding:"0 10px"}},[e._v(e._s(e.$i18n("chat","newMessages")))]),a("hr")])]):e._e(),"c"===t.type?[a("div",{staticClass:"tawk-flex tawk-flex-bottom",class:["v"==t.senderType?"tawk-visitor-chat":"tawk-agent-chat"],on:{mouseenter:e.onMouseEnter}},["v"===t.senderType?a("div",{staticClass:"tawk-flex-none",staticStyle:{"min-width":"40px"}},[t.time?a("tawk-timeago",{staticClass:"tawk-time-display",attrs:{datetime:t.time,isLive:!1,timeOnly:!0}}):e._e()],1):e._e(),a("div",{staticClass:"tawk-message-body tawk-margin-xsmall-left ",class:["v"!==t.senderType?"tawk-margin-xsmall-right":""]},[t.isUpload?a("tawk-card",{class:["v"==t.senderType?"tawk-visitor-chat-bubble":"tawk-agent-chat-bubble"],attrs:{color:"inverse",size:"small"}},[t.fileType?["image"===t.fileType?a("tawk-image",{attrs:{src:t.fileLink,name:t.fileName,position:"center"},on:{imageLoaded:e.imageLoaded}}):e._e(),"video"===t.fileType?a("tawk-video",{attrs:{content:{source:"selfhosted",url:t.fileLink,options:{controls:"",mute:!0,loop:!1,startTime:"0"}}}}):e._e(),"audio"===t.fileType?a("audio",{staticStyle:{width:"100%",height:"30px"},attrs:{controls:""}},[a("source",{attrs:{src:t.fileLink,type:t.data.file.mimetype}})]):e._e(),a("div",{staticClass:"tawk-flex",staticStyle:{"margin-top":"10px"}},[a("span",{staticClass:"tawk-flex-1"},[e._v(" "+e._s(t.fileName)+" ")]),a("span",{staticClass:"tawk-flex-none",staticStyle:{padding:"0 5px"}},[e._v(" "+e._s(t.humanizeFileSize)+" ")])]),a("a",{staticStyle:{color:"inherit","text-decoration":"underline","text-align":"right",display:"block"},attrs:{href:t.fileLink,target:"_blank"}},[e._v(" "+e._s(e.$i18n("chat","download"))+" "),a("tawk-icon",{attrs:{type:"download",size:"small"}})],1)]:e._e()],2):a("div",[t.isPending?a("tawk-spinner",{class:["v"!==t.senderType?"lds-spinner-left":""]}):e._e(),a("tawk-card",{class:["v"==t.senderType?"tawk-visitor-chat-bubble":"tawk-agent-chat-bubble","tawk-text-regular-3"],attrs:{color:"primary",size:"small"}},[t.surveyObj?a("div",[a("p",{domProps:{innerHTML:e._s(t.surveyObj.question)}}),e._l(t.surveyObj.options,(function(s,i){return a("label",{key:i,staticClass:"tawk-flex tawk-flex-middle tawk-margin-xsmall"},[a("input",{staticStyle:{margin:"0px"},attrs:{type:"radio",name:t.messageId,disabled:e.isHistory},domProps:{value:s},on:{input:function(t){return e.submitSurvey(s)}}}),a("span",{staticClass:"tawk-margin-xsmall-left",domProps:{innerHTML:e._s(s)}})])}))],2):a("tawk-emoji",{attrs:{emoji:t.message,enabled:e.emojiEnabled}})],1)],1)],1),"v"!==t.senderType?a("div",{staticClass:"tawk-flex-none",staticStyle:{"min-width":"40px"}},[t.time?a("tawk-timeago",{staticClass:"tawk-time-display",attrs:{datetime:t.time,isLive:!1,timeOnly:!0}}):e._e()],1):e._e()]),t.sendFailed?a("div",{staticClass:"tawk-chat-resend"},[a("p",[a("tawk-icon",{attrs:{type:"error",size:"small"}}),a("span",[e._v("Failed")])],1),a("tawk-button",{attrs:{isText:!0},on:{click:function(a){return e.resendMessage(t)}}},[e._v(" Resend ")])],1):e._e()]:e._e(),"v"===t.senderType&&"n"===t.type?a("div",[a("tawk-card",{attrs:{color:"inverse",size:"xsmall"}},[a("tawk-alert",{attrs:{title:t.message,description:"",icon:"alert"}},[a("tawk-timeago",{staticClass:"tawk-time-display",attrs:{slot:"alert-description",datetime:t.time,isLive:!1,timeOnly:!0},slot:"alert-description"})],1)],1)],1):e._e(),a("div",{staticClass:"clearfix"})],2)})),0)]],2)})),0)],1)}),[],!1,null,null,null);t.a=n.exports},"3f09":function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return i}));var s=a("f0b0"),i={data:function(){return{headerClass:""}},methods:{displayMessages:function(t){var a,i=t.message,n=void 0===i?{}:i,r=t.isIncoming,o=void 0!==r&&r,l=t.isLive,c=void 0===l||l,d=this.isScrollBarBottom(),p=c?this.$store.getters["chat/messageBlocks"]:this.$store.getters["history/messageBlocks"];if(!n.profileImage&&n.data&&n.data.rsc){var u=this.agentProfile(n.data.rsc);if(!u)return;n.profileImage=u.profileImage}if(p.length>0&&"c"===n.type&&((a=p[p.length-1]).ownerId===n.ownerId?(n.blockId=a.blockId,a.messages.push(n)):a=null),n.timeStamp>this.lastMessageTimestamp&&("v"===n.senderType?this.$store.dispatch("session/updateVisitorChatSeen",n.timeStamp):(this.unseenMessages.push(n),d&&!this.isLoading||this.barMessageId||(n.showBar=!0,this.barMessageId=n.messageId,this.barMessageRerence=n))),o&&"a"===n.senderType&&n.data&&n.data.rsc&&this.removeAgentIsTyping(n.data.rsc),n.isCallView){e.Tawk_Window.chatManager.callStatusUpdate({clid:n.callId,f:{}});var m={ownerId:n.callId,callData:n.callData,messageType:"call",blockId:s.Helper.generateUUID(),callId:n.callId};c?this.$store.dispatch("chat/addMessageBlock",m):this.$store.dispatch("history/addMessageBlock",m)}else if(!a){if(void 0===n.ownerId&&"n"===n.type)return;var f={ownerId:n.ownerId,messages:[n],senderType:n.senderType,messageType:n.type,blockId:s.Helper.generateUUID(),profileImage:n.profileImage};n.blockId=f.blockId,c?this.$store.dispatch("chat/addMessageBlock",f):this.$store.dispatch("history/addMessageBlock",f)}o&&("v"===n.senderType||d?this.scrollToBottom():this.checkBarPosition())},isScrollBarBottom:function(){var e=this.$refs["tawk-chat-panel"];if(e){var t=e.offsetHeight+10;return e.scrollHeight-(e.scrollTop+t)<30}}}}}).call(this,a("c8ba"))},"499e":function(e,t,a){"use strict";function s(e,t){for(var a=[],s={},i=0;i<t.length;i++){var n=t[i],r=n[0],o={id:e+":"+i,css:n[1],media:n[2],sourceMap:n[3]};s[r]?s[r].parts.push(o):a.push(s[r]={id:r,parts:[o]})}return a}a.r(t),a.d(t,"default",(function(){return f}));var i="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var n={},r=i&&(document.head||document.getElementsByTagName("head")[0]),o=null,l=0,c=!1,d=function(){},p=null,u="data-vue-ssr-id",m="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function f(e,t,a,i){c=a,p=i||{};var r=s(e,t);return g(r),function(t){for(var a=[],i=0;i<r.length;i++){var o=r[i],l=n[o.id];l.refs--,a.push(l)}for(t?g(r=s(e,t)):r=[],i=0;i<a.length;i++)if(0===(l=a[i]).refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete n[l.id]}}}function g(e){for(var t=0;t<e.length;t++){var a=e[t],s=n[a.id];if(s){s.refs++;for(var i=0;i<s.parts.length;i++)s.parts[i](a.parts[i]);for(;i<a.parts.length;i++)s.parts.push(v(a.parts[i]));s.parts.length>a.parts.length&&(s.parts.length=a.parts.length)}else{var r=[];for(i=0;i<a.parts.length;i++)r.push(v(a.parts[i]));n[a.id]={id:a.id,refs:1,parts:r}}}}function h(){var e=document.createElement("style");return e.type="text/css",r.appendChild(e),e}function v(e){var t,a,s=document.querySelector("style["+u+'~="'+e.id+'"]');if(s){if(c)return d;s.parentNode.removeChild(s)}if(m){var i=l++;s=o||(o=h()),t=w.bind(null,s,i,!1),a=w.bind(null,s,i,!0)}else s=h(),t=y.bind(null,s),a=function(){s.parentNode.removeChild(s)};return t(e),function(s){if(s){if(s.css===e.css&&s.media===e.media&&s.sourceMap===e.sourceMap)return;t(e=s)}else a()}}var k=function(){var e=[];return function(t,a){return e[t]=a,e.filter(Boolean).join("\n")}}();function w(e,t,a,s){var i=a?"":s.css;if(e.styleSheet)e.styleSheet.cssText=k(t,i);else{var n=document.createTextNode(i),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(n,r[t]):e.appendChild(n)}}function y(e,t){var a=t.css,s=t.media,i=t.sourceMap;if(s&&e.setAttribute("media",s),p.ssrId&&e.setAttribute(u,t.id),i&&(a+="\n/*# sourceURL="+i.sources[0]+" */",a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}},7274:function(e,t,a){(t=a("24fb")(!1)).push([e.i,'.lds-spinner{display:inline-block;position:relative;width:64px;height:64px}.lds-spinner .spin{transform-origin:32px 32px;-webkit-animation:lds-spinner 1.2s linear infinite;animation:lds-spinner 1.2s linear infinite}.lds-spinner .spin:after{content:" ";display:block;position:absolute;top:3px;left:29px;width:5px;height:14px;border-radius:20%;background:rgba(0,0,0,.4)}.lds-spinner .spin-1{transform:rotate(0deg);-webkit-animation-delay:-1.1s;animation-delay:-1.1s}.lds-spinner .spin-2{transform:rotate(30deg);-webkit-animation-delay:-1s;animation-delay:-1s}.lds-spinner .spin-3{transform:rotate(60deg);-webkit-animation-delay:-.9s;animation-delay:-.9s}.lds-spinner .spin-4{transform:rotate(90deg);-webkit-animation-delay:-.8s;animation-delay:-.8s}.lds-spinner .spin-5{transform:rotate(120deg);-webkit-animation-delay:-.7s;animation-delay:-.7s}.lds-spinner .spin-6{transform:rotate(150deg);-webkit-animation-delay:-.6s;animation-delay:-.6s}.lds-spinner .spin-7{transform:rotate(180deg);-webkit-animation-delay:-.5s;animation-delay:-.5s}.lds-spinner .spin-8{transform:rotate(210deg);-webkit-animation-delay:-.4s;animation-delay:-.4s}.lds-spinner .spin-9{transform:rotate(240deg);-webkit-animation-delay:-.3s;animation-delay:-.3s}.lds-spinner .spin-10{transform:rotate(270deg);-webkit-animation-delay:-.2s;animation-delay:-.2s}.lds-spinner .spin-11{transform:rotate(300deg);-webkit-animation-delay:-.1s;animation-delay:-.1s}.lds-spinner .spin-12{transform:rotate(330deg);-webkit-animation-delay:0s;animation-delay:0s}@-webkit-keyframes lds-spinner{0%{opacity:1}to{opacity:0}}@keyframes lds-spinner{0%{opacity:1}to{opacity:0}}',""]),e.exports=t},"8c9f":function(e,t,a){"use strict";a("99d0")},9348:function(e,t,a){"use strict";var s={name:"TawkSpinner"},i=(a("8c9f"),a("2877")),n=Object(i.a)(s,(function(){var e=this;e.$createElement;return e._self._c,e._m(0)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"lds-spinner loader",attrs:{role:"status"}},[t("div",{staticClass:"spin spin-1"}),t("div",{staticClass:"spin spin-2"}),t("div",{staticClass:"spin spin-3"}),t("div",{staticClass:"spin spin-4"}),t("div",{staticClass:"spin spin-5"}),t("div",{staticClass:"spin spin-6"}),t("div",{staticClass:"spin spin-7"}),t("div",{staticClass:"spin spin-8"}),t("div",{staticClass:"spin spin-9"}),t("div",{staticClass:"spin spin-10"}),t("div",{staticClass:"spin spin-11"}),t("div",{staticClass:"spin spin-12"})])}],!1,null,null,null);t.a=n.exports},"99d0":function(e,t,a){var s=a("7274");s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals),(0,a("499e").default)("6e1e1a38",s,!0,{sourceMap:!1,shadowMode:!1})},f25b:function(e,t,a){"use strict";(function(e){var s=a("f0b0"),i=a("9348");t.a={name:"chat-body",props:{isLoading:{type:Boolean,default:!0},messageBlocks:{type:Array,default:function(){return[]}},barMessageRerence:{type:String,default:null},isHistory:{type:Boolean,default:!1},emojiEnabled:{type:Boolean,default:!0}},data:function(){return{showTime:!1}},components:{TawkCard:s.TawkCard,TawkAvatar:s.TawkAvatar,TawkImage:s.TawkImage,TawkVideo:s.TawkVideo,TawkSpinner:i.a,TawkAlert:s.TawkAlert,TawkEmoji:s.TawkEmoji,TawkIcon:s.TawkIcon,TawkButton:s.TawkButton},methods:{onMouseEnter:function(){this.showTime=!0},callStatus:function(e){return e.isMissed||e.isRejected?"danger":"success"},callTitle:function(e){return e.isDone?e.isRejected?this.$i18n("chat","rejected_call"):e.isMissed?this.$i18n("chat","missed_"+("v"===e.caller.t?"agent":"visitor")):this.$i18n("chat","completed_call"):this.$i18n("chat","ongoing_call")},callDescription:function(e){var t=new Date(e.startedAt),a=t.getHours(),s=t.getMinutes();if(e.isDone){if(a<10&&(a="0"+a),s<10&&(s="0"+s),e.isRejected||e.isMissed)return this.$i18n("chat","call_started_on",{startedOn:"".concat(a,":").concat(s)});var i,n,r,o=6e4,l=60*o,c=new Date(e.endedAt).getTime()-new Date(e.startedAt).getTime();return c>=l?(i=Math.round(c/l),r="hours"):c>=o?(i=Math.round(c/o),r="minutes"):(i=Math.round(c/1e3),r="seconds"),n=this.$i18n("chat",r,{num:i}),this.$i18n("chat","call_end_details",{startedOn:"".concat(a,":").concat(s),duration:n})}return""},callIcon:function(e){return e.isVideo?"video-chat":e.isScreenshare?"screenshare":"call"},submitSurvey:function(t){this.isHistory||e.Tawk_Window.chatManager.sendMessage(t)},imageLoaded:function(){this.$emit("imageLoaded",!0)},resendMessage:function(t){for(var a=0;a<this.messageBlocks.length;a++){var s=this.messageBlocks[a];if(s.blockId===t.blockId){for(var i=0;i<s.messages.length;i++)if(s.messages[i].messageId===t.messageId){s.messages.splice(i,1);break}break}}e.Tawk_Window.chatManager.sendMessage(t.rawMessage.m)}}}}).call(this,a("c8ba"))}}]);